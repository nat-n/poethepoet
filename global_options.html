<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Global options" />
<meta property="og:type" content="website" />
<meta property="og:url" content="global_options.html" />
<meta property="og:site_name" content="Poe the Poet" />
<meta property="og:description" content="The following options can be set for all tasks in a project directly under[tool.poe]. These are called global options, in contrast with task options. env, dict[str, str] 📖, Define environment varia..." />
<meta name="description" content="The following options can be set for all tasks in a project directly under[tool.poe]. These are called global options, in contrast with task options. env, dict[str, str] 📖, Define environment varia..." />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Defining tasks" href="tasks/index.html" /><link rel="prev" title="Poetry plugin" href="poetry_plugin.html" />
        <link rel="canonical" href="http://poethepoet.natn.io/global_options.html" />

    <link rel="shortcut icon" href="_static/favicon.ico"/><!-- Generated with Sphinx 7.4.7 and Furo 2023.09.10 -->
        <title>Global options - Poe the Poet</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Poe the Poet</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/poe_logo_x2000.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/poe_logo_x2000.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Poe the Poet</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="poetry_plugin.html">Poetry plugin</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Global options</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tasks/index.html">Defining tasks</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Defining tasks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tasks/options.html">Standard task options</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/cmd.html">Command tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/script.html">Script tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/shell.html">Shell tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/sequence.html">Sequence tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/expr.html">Expression tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/switch.html">Switch tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks/task_types/ref.html">Reference tasks</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="guides/running_guide.html">Running tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/help_guide.html">Documenting tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/args_guide.html">Configuring CLI arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/composition_guide.html">Composing tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/include_guide.html">Loading tasks from another file</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/global_tasks.html">Global tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/without_poetry.html">Usage without poetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/library_guide.html">Using poethepoet as a library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="env_vars.html">Environment variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Licence</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/nat-n/poethepoet/edit/main/docs/global_options.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="global-options">
<h1>Global options<a class="headerlink" href="#global-options" title="Link to this heading">¶</a></h1>
<p>The following options can be set for all tasks in a project directly under <code class="docutils literal notranslate"><span class="pre">[tool.poe]</span></code>. These are called global options, in contrast with <a class="reference internal" href="tasks/options.html"><span class="doc">task options</span></a>.</p>
<dl>
<dt><strong>env</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code> <a class="reference internal" href="#global-environment-variables"><span class="std std-ref">📖</span></a></span></dt><dd><p>Define environment variables to be exposed to all tasks. These can be <a class="reference internal" href="tasks/options.html#setting-task-specific-environment-variables"><span class="std std-ref">extended on the task level</span></a>.</p>
</dd>
<dt><strong>envfile</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code> | <code class="docutils literal notranslate"><span class="pre">list[str]</span></code> <a class="reference internal" href="#global-environment-variables"><span class="std std-ref">📖</span></a></span></dt><dd><p>Link to one or more files defining environment variables to be exposed to all tasks.</p>
</dd>
<dt><strong>executor</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code> <a class="reference internal" href="#change-the-executor-type"><span class="std std-ref">📖</span></a></span></dt><dd><p>Override the default behavior for selecting an executor for tasks in this project.</p>
</dd>
<dt><strong>include</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code> | <code class="docutils literal notranslate"><span class="pre">list[str]</span></code> | <code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code> <a class="reference internal" href="guides/include_guide.html"><span class="doc">📖</span></a></span></dt><dd><p>Specify one or more other toml or json files to load tasks from.</p>
</dd>
<dt><strong>shell_interpreter</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code> | <code class="docutils literal notranslate"><span class="pre">list[str]</span></code> <a class="reference internal" href="#change-the-default-shell-interpreter"><span class="std std-ref">📖</span></a></span></dt><dd><p>Change the default interpreter to use for executing <a class="reference internal" href="tasks/task_types/shell.html"><span class="doc">shell tasks</span></a>.</p>
</dd>
<dt><strong>poetry_command</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code> <a class="reference internal" href="poetry_plugin.html#configuring-the-plugin"><span class="std std-ref">📖</span></a></span></dt><dd><p>Change the name of the task poe registers with poetry when used as a plugin.</p>
</dd>
<dt><strong>poetry_hooks</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">str]</span></code> <a class="reference internal" href="poetry_plugin.html#hooking-into-poetry-commands"><span class="std std-ref">📖</span></a></span></dt><dd><p>Register tasks to run automatically before or after other poetry CLI commands.</p>
</dd>
<dt><strong>verbosity</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Set the default verbosity level for tasks in this project. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>, providing the <code class="docutils literal notranslate"><span class="pre">-v</span></code> global CLI option increases it by <code class="docutils literal notranslate"><span class="pre">1</span></code>, whereas the <code class="docutils literal notranslate"><span class="pre">-q</span></code> global CLI option decreases it by <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
<dt><strong>default_task_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">&quot;cmd&quot;</span> <span class="pre">|</span> <span class="pre">&quot;expr&quot;</span> <span class="pre">|</span> <span class="pre">&quot;ref&quot;</span> <span class="pre">|</span> <span class="pre">&quot;script&quot;</span> <span class="pre">|</span> <span class="pre">&quot;shell&quot;</span></code></span></dt><dd><p>When a task is declared as a string (instead of a table), then it is interpreted as the default task type, which will be <code class="docutils literal notranslate"><span class="pre">&quot;cmd&quot;</span></code> unless otherwise specified.</p>
</dd>
<dt><strong>default_array_task_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">str</span></code></span></dt><dd><p>When a task is declared as an array (instead of a table), then it is interpreted as the default array task type, which will be <code class="docutils literal notranslate"><span class="pre">&quot;sequence&quot;</span></code> unless otherwise specified. Currently the sequence task type is the only one that can be defined as an array.</p>
</dd>
<dt><strong>default_array_item_task_type</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">&quot;cmd&quot;</span> <span class="pre">|</span> <span class="pre">&quot;expr&quot;</span> <span class="pre">|</span> <span class="pre">&quot;ref&quot;</span> <span class="pre">|</span> <span class="pre">&quot;script&quot;</span> <span class="pre">|</span> <span class="pre">&quot;shell&quot;</span></code></span></dt><dd><p>When a task is declared as a string inside an array (e.g. inline in a sequence task), then it is interpreted as the default array item task type, which will be <code class="docutils literal notranslate"><span class="pre">&quot;ref&quot;</span></code> unless otherwise specified.</p>
</dd>
</dl>
<section id="global-environment-variables">
<h2>Global environment variables<a class="headerlink" href="#global-environment-variables" title="Link to this heading">¶</a></h2>
<p>You can configure environment variables to be set for all poe tasks in the pyproject.toml file by specifying <code class="code highlight toml docutils literal highlight-toml"><span class="n">tool</span><span class="p">.</span><span class="n">poe</span><span class="p">.</span><span class="n">env</span></code> like so</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe.env]</span>
<span class="n">VAR1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;FOO&quot;</span>
<span class="n">VAR2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;BAR BAR BLACK ${FARM_ANIMAL}&quot;</span>
</pre></div>
</div>
<p>The example above also demonstrates how – as with env vars defined at the task level –
posix variable interpolation syntax may be used to define global env vars with reference
to variables already defined in the host environment or in a referenced env file.</p>
<p>As with the task level option, you can indicated that a variable should only be set if
not already set like so:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe.env]</span>
<span class="n">VAR1</span><span class="p">.</span><span class="n">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;FOO&quot;</span>
</pre></div>
</div>
<p>You can also specify an env file (with bash-like syntax) to load for all tasks like so:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">.env</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nv">STAGE</span><span class="o">=</span>dev
<span class="w"> </span><span class="nv">PASSWORD</span><span class="o">=</span><span class="s1">&#39;!@#$%^&amp;*(&#39;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">pyproject.toml</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="k">[tool.poe]</span>
<span class="w"> </span><span class="n">envfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;.env&quot;</span>
</pre></div>
</div>
</div>
<p>The envfile global option also accepts a list of env files like so.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe]</span>
<span class="n">envfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;standard.env&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;local.env&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>In this case the referenced files will be loaded in the given order.</p>
<p>Normally envfile paths are resolved relative to the project root (that is the parent directory of the pyproject.toml). However when working with a monorepo it can also be useful to specify the path relative to the root of the git repository, which can be done by referenceing the <code class="docutils literal notranslate"><span class="pre">POE_GIT_DIR</span></code> or <code class="docutils literal notranslate"><span class="pre">POE_GIT_ROOT</span></code> variables like so:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe]</span>
<span class="n">envfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${POE_GIT_DIR}/.env&quot;</span>
</pre></div>
</div>
<p>See the documentation on <a class="reference internal" href="env_vars.html#special-variables"><span class="std std-ref">Special variables</span></a> for a full explanation of how these variables work.</p>
</section>
<section id="change-the-executor-type">
<h2>Change the executor type<a class="headerlink" href="#change-the-executor-type" title="Link to this heading">¶</a></h2>
<p>You can configure poe to use a specific executor by setting
<code class="code highlight toml docutils literal highlight-toml"><span class="n">tool</span><span class="p">.</span><span class="n">poe</span><span class="p">.</span><span class="n">executor</span><span class="p">.</span><span class="n">type</span></code>. Valid values include:</p>
<ul class="simple">
<li><p><strong>auto</strong>: to automatically use the most appropriate of the following executors in order</p></li>
<li><p><strong>poetry</strong>: to run tasks in the poetry managed environment</p></li>
<li><p><strong>virtualenv</strong>: to run tasks in the indicated virtualenv (or else “./.venv” or “./venv” if present)</p></li>
<li><p><strong>simple</strong>: to run tasks without doing any specific environment setup</p></li>
</ul>
<p>The default behaviour is <strong>auto</strong>.</p>
<p>For example, the following configuration will cause poe to ignore the poetry environment
(if present), and instead use the virtualenv at the given location relative to the
parent directory. If no location is specified for a virtualenv then the default behavior is to use the virtualenv from <code class="docutils literal notranslate"><span class="pre">./venv</span></code> or <code class="docutils literal notranslate"><span class="pre">./.venv</span></code> if available.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe.executor]</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;virtualenv&quot;</span>
<span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;myvenv&quot;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This global option can be overridden at runtime by providing the <code class="docutils literal notranslate"><span class="pre">--executor</span></code> cli option before the task name with the name of the executor type to use.</p>
</div>
</section>
<section id="change-the-default-shell-interpreter">
<h2>Change the default shell interpreter<a class="headerlink" href="#change-the-default-shell-interpreter" title="Link to this heading">¶</a></h2>
<p>Normally shell tasks are executed using a posix shell by default (see section for shell
tasks above). This default can be overridden to something else by setting the
<em>shell_interpreter</em> global option. In the following example we configure all shell tasks
to use <em>fish</em> by default.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">tool</span><span class="p">.</span><span class="n">poe</span><span class="p">.</span><span class="n">shell_interpreter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fish&quot;</span>

<span class="k">[tool.poe.tasks.fibonacci]</span>
<span class="n">help</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Output the fibonacci sequence up to 89&quot;</span>
<span class="n">shell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  function fib --argument-names max n0 n1</span>
<span class="s2">    if test $max -ge $n0</span>
<span class="s2">      echo $n0</span>
<span class="s2">      fib $max $n1 (math $n0 + $n1)</span>
<span class="s2">    end</span>
<span class="s2">  end</span>

<span class="s2">  fib 89 1 1</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="default-command-verbosity">
<h2>Default command verbosity<a class="headerlink" href="#default-command-verbosity" title="Link to this heading">¶</a></h2>
<p>You can alter the verbosity level for poe commands by passing <code class="code highlight bash docutils literal highlight-bash">--quiet</code> /
<code class="code highlight bash docutils literal highlight-bash">-q</code> (which decreases verbosity) or <code class="code highlight bash docutils literal highlight-bash">--verbose</code> / <code class="code highlight bash docutils literal highlight-bash">-v</code> (which
increases verbosity) on the CLI.</p>
<p>If you want to change the default verbosity level for all commands, you can use
the <code class="code highlight toml docutils literal highlight-toml"><span class="n">tool</span><span class="p">.</span><span class="n">poe</span><span class="p">.</span><span class="n">verbose</span></code> option in pyproject.toml like so:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe]</span>
<span class="n">verbosity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span>
</pre></div>
</div>
<p><code class="code highlight toml docutils literal highlight-toml"><span class="n">-1</span></code> is the quietest and <code class="code highlight toml docutils literal highlight-toml"><span class="n">1</span></code> is the most verbose. <code class="code highlight toml docutils literal highlight-toml"><span class="n">0</span></code> is the
default.</p>
<p>Note that the command line arguments are incremental: <code class="code highlight bash docutils literal highlight-bash">-q</code> subtracts one
from the default verbosity, and <code class="code highlight bash docutils literal highlight-bash">-v</code> adds one. So setting the default
verbosity to <code class="code highlight toml docutils literal highlight-toml"><span class="n">-1</span></code> and passing <code class="code highlight bash docutils literal highlight-bash">-v<span class="w"> </span>-v</code> on the command line is
equivalent to setting the verbosity to <code class="code highlight toml docutils literal highlight-toml"><span class="n">0</span></code> and just passing <code class="code highlight bash docutils literal highlight-bash">-v</code>.</p>
</section>
<section id="change-the-default-task-type">
<h2>Change the default task type<a class="headerlink" href="#change-the-default-task-type" title="Link to this heading">¶</a></h2>
<p>By default tasks defined as strings are interpreted as shell commands, and script tasks
require the more verbose table syntax to specify. For example:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">my_cmd_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;cmd args&quot;</span>
<span class="n">my_script_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;script&quot;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;my_package.my_module:run&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>This behaviour can be reversed by setting the <code class="code highlight toml docutils literal highlight-toml"><span class="n">default_task_type</span></code> option in your
pyproject.toml like so:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.poe]</span>
<span class="n">default_task_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;script&quot;</span>

<span class="k">[tool.poe.tasks]</span>
<span class="n">my_cmd_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;cmd&quot;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;cmd args&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="n">my_script_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_package.my_module:run&quot;</span>
</pre></div>
</div>
</section>
<section id="run-poe-from-anywhere">
<h2>Run poe from anywhere<a class="headerlink" href="#run-poe-from-anywhere" title="Link to this heading">¶</a></h2>
<p>By default poe will detect when you’re inside a project with a pyproject.toml in the
root. However if you want to run it from elsewhere then that is supported by using the
<code class="code highlight bash docutils literal highlight-bash">-C</code> option to specify an alternate location for the toml file. The task will
run with the given location as the current working directory.</p>
<p>In all cases the path to project root (where the pyproject.toml resides) will be
available as <code class="code highlight bash docutils literal highlight-bash"><span class="nv">$POE_ROOT</span></code> within the command line and process.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="tasks/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Defining tasks</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="poetry_plugin.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Poetry plugin</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Nat Noordanus
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://pypi.org/project/poethepoet/" aria-label="PyPI">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg"  stroke="currentColor" fill="currentColor" stroke-width="0" width="16px" height="16" viewBox="0 0 512 512">
                    <path d="M454,305.8294373l-91.1191101,33.691803v106.4807434L181.94487,512V298.2970276l179.8842926-66.8633728V58.8240128L454,92.4968643V305.8294373z M276.8390503,363.3849487c-15.7174377,5.7245483-28.4572144,23.9239502-28.4515686,40.6481018c0.0061646,16.7174377,12.7523499,25.6329346,28.4636841,19.919281c15.7173462-5.7247009,28.4602051-23.9217834,28.4544983-40.6459656C305.303009,366.5810547,292.5565491,357.6635437,276.8390503,363.3849487z M334.6160889,212.4997864l-180.3925323,66.8782959l0.2966461,135.7604065l-64.2104874,22.9912415L0,405.2594604V191.9265442l90.704361-33.6917877V51.7543259L232.9717102,0l101.6443787,32.4636765V212.4997864z M215.2144775,94.8330383c-15.7174835,5.7222672-28.4621582,23.9249802-28.458725,40.6499329c0.0025787,16.725235,12.750824,25.6462555,28.4683228,19.9248505c15.7174988-5.7219086,28.4623871-23.9248047,28.4592285-40.6498184C243.6806641,98.0326996,230.9319763,89.1116333,215.2144775,94.8330383z"/>
                </svg>
            </a>
              <a class="muted-link " href="https://github.com/nat-n/poethepoet" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Global options</a><ul>
<li><a class="reference internal" href="#global-environment-variables">Global environment variables</a></li>
<li><a class="reference internal" href="#change-the-executor-type">Change the executor type</a></li>
<li><a class="reference internal" href="#change-the-default-shell-interpreter">Change the default shell interpreter</a></li>
<li><a class="reference internal" href="#default-command-verbosity">Default command verbosity</a></li>
<li><a class="reference internal" href="#change-the-default-task-type">Change the default task type</a></li>
<li><a class="reference internal" href="#run-poe-from-anywhere">Run poe from anywhere</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=72479337"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script>
        (function(){
            var plausible_script = document.createElement('script');
            plausible_script.setAttribute('defer','true');
            plausible_script.setAttribute('data-domain','poethepoet.natn.io');
            plausible_script.setAttribute('src','https://plausible.io/js/script.js');
            document.head.appendChild(plausible_script);
        })()
        </script>
    </body>
</html>